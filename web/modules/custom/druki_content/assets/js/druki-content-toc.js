!function(t){t.behaviors.drukiContentTOC={attach:function(t,e){let n;n=window.requestIdleCallback?t=>{requestIdleCallback(t)}:t=>{t()},n((()=>{let e=t.querySelector(".druki-content-toc");e&&!e.processed&&(e.processed=!0,this.processTOC(t,e))}))},processTOC:function(t,e){let n=e.querySelectorAll(".druki-content-toc__link");this.attachEvents(t,n)},processLinks:function(t,e){let n=[];return e.forEach((e=>{let c=e.getAttribute("href").substring(1),o=t.getElementById(c).getBoundingClientRect();n.push({link:e,top:o.top})})),n},attachEvents:function(e,n){e.addEventListener("scroll",t.throttle((t=>{let c=this.processLinks(e,n),o=null;c.forEach((t=>{t.link.classList.remove("druki-content-toc__link--active"),t.top<24&&(o=t.link)})),o&&o.classList.add("druki-content-toc__link--active")}),16))}}}(Drupal);
//# sourceMappingURL=druki-content-toc.js.map
