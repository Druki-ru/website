!function(){"use strict";function e(){this.store=localStorage,this.name="dark-mode-toggle",this.eventHandlers={onUpdate:[]},this.init()}e.prototype={init:function(){this.update();window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{this.update()}))},setColorScheme:function(e){["auto","light","dark"].includes(e)?"auto"===e?this.store.removeItem(this.name):this.store.setItem(this.name,e):this.store.removeItem(this.name),this.update()},getColorScheme:function(){let e=this.store.getItem(this.name);return e||(e=this.getColorSchemeFromSystem()),e},getColorSchemeFromSystem:function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},isSchemeFromSystem:function(){return null===this.store.getItem(this.name)},update:function(){this.dispatchEvent("onUpdate",this.getColorScheme(),this.isSchemeFromSystem()),document.documentElement.setAttribute("data-theme",this.getColorScheme())},onUpdate:function(e){this.eventHandlers.onUpdate.push(e)},dispatchEvent:function(e,...t){this.eventHandlers[e].forEach((e=>{e.call(this,...t)}))}},window.DarkMode=new e}();
//# sourceMappingURL=dark-mode.js.map
