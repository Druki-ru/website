{"version":3,"sources":["druki/assets/js/mobile-sidebar.es6.js"],"names":["Drupal","behaviors","drukiMobileSidebar","attach","context","settings","trigger","window","requestIdleCallback","callback","this","attachEvents","buttonElement","querySelector","sidebarElement","overlayElement","closeElement","clickListener","document","classList","toggle","processed","addEventListener"],"mappings":"CAIA,SAAWA,GAETA,EAAOC,UAAUC,mBAAqB,CACpCC,OAAQ,SAAUC,EAASC,GACzB,IAAIC,EAEFA,EADEC,OAAOC,oBACEC,IACTD,oBAAoBC,IAKXA,IACTA,KAIJH,GAAQ,KACNI,KAAKC,aAAaP,EAASC,OAI/BM,aAAc,SAAUP,EAASC,GAC/B,MAAMO,EAAgBR,EAAQS,cAAc,6BACtCC,EAAiBV,EAAQS,cAAc,sBACvCE,EAAiBX,EAAQS,cAAc,8BACvCG,EAAeZ,EAAQS,cAAc,4BAErCI,EAAgB,KACpBC,SAASL,cAAc,QAAQM,UAAUC,OAAO,6BAG9CR,IAAkBA,EAAcS,WAAaP,IAC/CF,EAAcS,WAAY,EAC1BT,EAAcU,iBAAiB,QAASL,GAGpCF,GACFA,EAAeO,iBAAiB,QAASL,GAIvCD,GACFA,EAAaM,iBAAiB,QAASL,MA3CjD,CAiDGjB","file":"mobile-sidebar.js","sourcesContent":["/**\n * @file\n * Druki Header branding navigation behaviors.\n */\n(function (Drupal) {\n\n  Drupal.behaviors.drukiMobileSidebar = {\n    attach: function (context, settings) {\n      let trigger;\n      if (window.requestIdleCallback) {\n        trigger = (callback) => {\n          requestIdleCallback(callback)\n        }\n      }\n      else {\n        // Fallback for browsers doesn't support IDLE callbacks.\n        trigger = (callback) => {\n          callback()\n        }\n      }\n\n      trigger(() => {\n        this.attachEvents(context, settings);\n      });\n    },\n\n    attachEvents: function (context, settings) {\n      const buttonElement = context.querySelector('.js-mobile-sidebar-button');\n      const sidebarElement = context.querySelector('.js-mobile-sidebar');\n      const overlayElement = context.querySelector('.js-mobile-sidebar-overlay');\n      const closeElement = context.querySelector('.js-mobile-sidebar-close');\n\n      const clickListener = () => {\n        document.querySelector('body').classList.toggle('js-mobile-sidebar-active');\n      };\n\n      if (buttonElement && !buttonElement.processed && sidebarElement) {\n        buttonElement.processed = true;\n        buttonElement.addEventListener('click', clickListener);\n\n        // Overlay is optional.\n        if (overlayElement) {\n          overlayElement.addEventListener('click', clickListener);\n        }\n\n        // Close button is optional but make sure user can close sidebar.\n        if (closeElement) {\n          closeElement.addEventListener('click', clickListener)\n        }\n      }\n    }\n  };\n\n})(Drupal);\n"]}